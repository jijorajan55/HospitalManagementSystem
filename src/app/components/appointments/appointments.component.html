<div class="appointments-section">
  <div class="image-container">
    <img src="assets/images/doctor.jpg" alt="Doctor Image">
  </div>
  <div class="content-container">
    <h2>Appointments</h2>
    <div *ngFor="let appointment of appointments" class="appointment-item">
      <p>Patient: {{ appointment.patientId?.name }} - Doctor: {{ appointment.doctorId?.name }} - Date: {{ appointment.appointmentDate | date:'short' }}</p>
      <button (click)="editAppointment(appointment)">Edit</button>
      <button (click)="deleteAppointment(appointment._id)">Delete</button>
    </div>
    <form (ngSubmit)="isEditMode ? updateAppointment() : addAppointment()">
      <div class="form-group">
        <label for="patient">Patient</label>
        <select [(ngModel)]="appointmentData.patientId" name="patientId" required>
          <option *ngFor="let patient of patients" [value]="patient._id">{{ patient.name }}</option>
        </select>
      </div>
      <div class="form-group">
        <label for="doctor">Doctor</label>
        <select [(ngModel)]="appointmentData.doctorId" name="doctorId" required>
          <option *ngFor="let doctor of doctors" [value]="doctor._id">{{ doctor.name }}</option>
        </select>
      </div>
      <div class="form-group">
        <label for="date">Appointment Date</label>
        <input type="date" [(ngModel)]="appointmentData.appointmentDate" name="appointmentDate" required>
      </div>
      <button type="submit">{{ isEditMode ? 'Update Appointment' : 'Add Appointment' }}</button>
    </form>
  </div>
</div>
